{"ast":null,"code":"var _jsxFileName = \"X:\\\\Projects\\\\watch and earn website\\\\frontend\\\\src\\\\pages\\\\Ads\\\\AdPlayerPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Play, Clock, DollarSign, Eye, CheckCircle, XCircle } from 'lucide-react';\nimport toast from 'react-hot-toast';\nimport AnimatedButton from '../../components/UI/AnimatedButton';\nimport GlassCard from '../../components/UI/GlassCard';\nimport ProgressBar from '../../components/UI/ProgressBar';\nimport LoadingSpinner from '../../components/UI/LoadingSpinner';\nimport { loadAdSenseScript, initializeAdSense } from '../../utils/adsense';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdPlayerPage = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [ad, setAd] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [watchTime, setWatchTime] = useState(0);\n  const [isWatching, setIsWatching] = useState(false);\n  const [isCompleted, setIsCompleted] = useState(false);\n  const [rewardEarned, setRewardEarned] = useState(0);\n  const timerRef = useRef(null);\n  useEffect(() => {\n    fetchAdDetails();\n    return () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n    };\n  }, [id]);\n\n  // Load Google AdSense script and initialize ads\n  useEffect(() => {\n    const loadAdSense = () => {\n      // Check if AdSense script is already loaded\n      if (window.adsbygoogle) {\n        // Initialize ads\n        (window.adsbygoogle = window.adsbygoogle || []).push({});\n        return;\n      }\n\n      // Load AdSense script\n      const script = document.createElement('script');\n      script.src = 'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js';\n      script.async = true;\n      script.crossOrigin = 'anonymous';\n      script.onload = () => {\n        // Initialize ads after script loads\n        (window.adsbygoogle = window.adsbygoogle || []).push({});\n      };\n      document.head.appendChild(script);\n    };\n\n    // Load AdSense when component mounts\n    loadAdSense();\n  }, []);\n  const fetchAdDetails = async () => {\n    try {\n      const response = await fetch('/api/ads');\n      const data = await response.json();\n      const foundAd = data.ads.find(a => a.id === id);\n      if (foundAd) {\n        setAd(foundAd);\n      } else {\n        toast.error('Ad not found');\n        navigate('/ads');\n      }\n    } catch (error) {\n      console.error('Error fetching ad details:', error);\n      toast.error('Failed to load ad details');\n      navigate('/ads');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const startWatching = () => {\n    setIsWatching(true);\n    setWatchTime(0);\n    timerRef.current = setInterval(() => {\n      setWatchTime(prev => {\n        const newTime = prev + 1;\n\n        // Check if ad is completed\n        if (newTime >= ad.duration) {\n          completeAd();\n          return newTime;\n        }\n        return newTime;\n      });\n    }, 1000);\n  };\n  const completeAd = async () => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n    }\n    setIsWatching(false);\n    setIsCompleted(true);\n    try {\n      const response = await fetch(`/api/ads/${id}/watch`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify({\n          watchDuration: watchTime,\n          completed: true\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setRewardEarned(data.rewardEarned);\n        toast.success(`Congratulations! You earned $${data.rewardEarned.toFixed(2)}`);\n      } else {\n        toast.error(data.error || 'Failed to record ad watch');\n      }\n    } catch (error) {\n      console.error('Error recording ad watch:', error);\n      toast.error('Failed to record ad watch');\n    }\n  };\n  const formatTime = seconds => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-64\",\n      children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n        size: \"xl\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this);\n  }\n  if (!ad) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(GlassCard, {\n      className: \"bg-gradient-to-r from-blue-50 to-indigo-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\",\n        children: \"Watch Ad & Earn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mt-2 text-lg\",\n        children: [\"Complete this ad to earn $\", ad.reward.toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(GlassCard, {\n      className: \"bg-gradient-to-r from-white to-gray-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold text-gray-900 mb-3 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\",\n          children: [\"Ad #\", ad.id.split('-').pop()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 text-lg\",\n          children: ad.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(GlassCard, {\n        className: \"bg-gradient-to-r from-gray-50 to-blue-50 mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-24 h-24 bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center mx-auto shadow-lg\",\n              children: /*#__PURE__*/_jsxDEV(Play, {\n                className: \"w-12 h-12 text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-medium text-gray-900 mb-3\",\n            children: \"Google AdSense Test Ad\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mb-6 text-lg\",\n            children: \"This is a test ad container. In production, Google AdSense ads will appear here.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white border rounded-xl p-6 mb-6 shadow-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-500 mb-3 font-medium\",\n              children: \"Google AdSense Test Ad:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-lg border border-blue-200\",\n              children: /*#__PURE__*/_jsxDEV(\"ins\", {\n                className: \"adsbygoogle\",\n                style: {\n                  display: 'block'\n                },\n                \"data-ad-client\": \"ca-pub-3940256099942544\",\n                \"data-ad-slot\": \"1234567890\",\n                \"data-ad-format\": \"auto\",\n                \"data-full-width-responsive\": \"true\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this), !isWatching && !isCompleted && /*#__PURE__*/_jsxDEV(AnimatedButton, {\n            onClick: startWatching,\n            variant: \"primary\",\n            size: \"lg\",\n            className: \"mx-auto\",\n            children: [/*#__PURE__*/_jsxDEV(Play, {\n              className: \"w-5 h-5 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 17\n            }, this), \"Start Watching Ad\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this), isWatching && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-r from-blue-50 to-cyan-50 border border-blue-200 rounded-xl p-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium text-blue-900\",\n                  children: \"Watch Progress:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-blue-700 font-semibold\",\n                  children: [formatTime(watchTime), \" / \", formatTime(ad.duration)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n                progress: watchTime / ad.duration * 100,\n                variant: \"primary\",\n                showLabel: false\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Please watch the entire ad to earn the full reward\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 15\n          }, this), isCompleted && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-center text-green-600\",\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"w-10 h-10 mr-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xl font-medium\",\n                children: \"Ad Completed!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 17\n            }, this), rewardEarned > 0 && /*#__PURE__*/_jsxDEV(GlassCard, {\n              className: \"bg-gradient-to-r from-green-50 to-emerald-50\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-green-700 mb-2 font-medium\",\n                  children: \"Reward Earned:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent\",\n                  children: [\"$\", rewardEarned.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-4 justify-center\",\n              children: [/*#__PURE__*/_jsxDEV(AnimatedButton, {\n                onClick: () => navigate('/ads'),\n                variant: \"primary\",\n                children: \"Watch More Ads\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(AnimatedButton, {\n                onClick: () => navigate('/dashboard'),\n                variant: \"secondary\",\n                children: \"Go to Dashboard\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(GlassCard, {\n          className: \"bg-gradient-to-r from-blue-50 to-cyan-50 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(Clock, {\n            className: \"w-8 h-8 text-blue-600 mx-auto mb-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-blue-600 font-medium\",\n            children: \"Duration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xl font-bold text-blue-900\",\n            children: [ad.duration, \" seconds\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GlassCard, {\n          className: \"bg-gradient-to-r from-green-50 to-emerald-50 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n            className: \"w-8 h-8 text-green-600 mx-auto mb-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-green-600 font-medium\",\n            children: \"Reward\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xl font-bold text-green-900\",\n            children: [\"$\", ad.reward.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GlassCard, {\n          className: \"bg-gradient-to-r from-purple-50 to-pink-50 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(Eye, {\n            className: \"w-8 h-8 text-purple-600 mx-auto mb-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-purple-600 font-medium\",\n            children: \"Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xl font-bold text-purple-900\",\n            children: ad.type\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(GlassCard, {\n      className: \"bg-gradient-to-r from-blue-50 to-cyan-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-semibold text-blue-900 mb-4 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"w-2 h-8 bg-gradient-to-b from-blue-500 to-purple-500 rounded-full mr-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this), \"How to earn rewards:\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"space-y-3 text-blue-800\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"flex items-start group\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"w-3 h-3 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full mt-1 mr-3 flex-shrink-0 group-hover:scale-125 transition-transform\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"group-hover:text-blue-900 transition-colors\",\n            children: \"Watch the entire ad to earn the full reward\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"flex items-start group\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"w-3 h-3 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full mt-1 mr-3 flex-shrink-0 group-hover:scale-125 transition-transform\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"group-hover:text-blue-900 transition-colors\",\n            children: \"Partial rewards are given for watching at least 15 seconds\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"flex items-start group\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"w-3 h-3 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full mt-1 mr-3 flex-shrink-0 group-hover:scale-125 transition-transform\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"group-hover:text-blue-900 transition-colors\",\n            children: \"You can only earn from each ad once per 24 hours\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"flex items-start group\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"w-3 h-3 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full mt-1 mr-3 flex-shrink-0 group-hover:scale-125 transition-transform\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"group-hover:text-blue-900 transition-colors\",\n            children: \"Rewards are automatically added to your balance\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 5\n  }, this);\n};\n_s(AdPlayerPage, \"CkJTYhBS4BUbJtqcdnaDrZivOhU=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = AdPlayerPage;\nexport default AdPlayerPage;\nvar _c;\n$RefreshReg$(_c, \"AdPlayerPage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","useNavigate","Play","Clock","DollarSign","Eye","CheckCircle","XCircle","toast","AnimatedButton","GlassCard","ProgressBar","LoadingSpinner","loadAdSenseScript","initializeAdSense","jsxDEV","_jsxDEV","AdPlayerPage","_s","id","navigate","ad","setAd","loading","setLoading","watchTime","setWatchTime","isWatching","setIsWatching","isCompleted","setIsCompleted","rewardEarned","setRewardEarned","timerRef","fetchAdDetails","current","clearInterval","loadAdSense","window","adsbygoogle","push","script","document","createElement","src","async","crossOrigin","onload","head","appendChild","response","fetch","data","json","foundAd","ads","find","a","error","console","startWatching","setInterval","prev","newTime","duration","completeAd","method","headers","localStorage","getItem","body","JSON","stringify","watchDuration","completed","ok","success","toFixed","formatTime","seconds","mins","Math","floor","secs","toString","padStart","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","reward","split","pop","description","style","display","onClick","variant","progress","showLabel","type","_c","$RefreshReg$"],"sources":["X:/Projects/watch and earn website/frontend/src/pages/Ads/AdPlayerPage.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { Play, Clock, DollarSign, Eye, CheckCircle, XCircle } from 'lucide-react';\r\nimport toast from 'react-hot-toast';\r\nimport AnimatedButton from '../../components/UI/AnimatedButton';\r\nimport GlassCard from '../../components/UI/GlassCard';\r\nimport ProgressBar from '../../components/UI/ProgressBar';\r\nimport LoadingSpinner from '../../components/UI/LoadingSpinner';\r\nimport { loadAdSenseScript, initializeAdSense } from '../../utils/adsense';\r\n\r\nconst AdPlayerPage = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [ad, setAd] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [watchTime, setWatchTime] = useState(0);\r\n  const [isWatching, setIsWatching] = useState(false);\r\n  const [isCompleted, setIsCompleted] = useState(false);\r\n  const [rewardEarned, setRewardEarned] = useState(0);\r\n  const timerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    fetchAdDetails();\r\n    return () => {\r\n      if (timerRef.current) {\r\n        clearInterval(timerRef.current);\r\n      }\r\n    };\r\n  }, [id]);\r\n\r\n  // Load Google AdSense script and initialize ads\r\n  useEffect(() => {\r\n    const loadAdSense = () => {\r\n      // Check if AdSense script is already loaded\r\n      if (window.adsbygoogle) {\r\n        // Initialize ads\r\n        (window.adsbygoogle = window.adsbygoogle || []).push({});\r\n        return;\r\n      }\r\n\r\n      // Load AdSense script\r\n      const script = document.createElement('script');\r\n      script.src = 'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js';\r\n      script.async = true;\r\n      script.crossOrigin = 'anonymous';\r\n      \r\n      script.onload = () => {\r\n        // Initialize ads after script loads\r\n        (window.adsbygoogle = window.adsbygoogle || []).push({});\r\n      };\r\n      \r\n      document.head.appendChild(script);\r\n    };\r\n\r\n    // Load AdSense when component mounts\r\n    loadAdSense();\r\n  }, []);\r\n\r\n  const fetchAdDetails = async () => {\r\n    try {\r\n      const response = await fetch('/api/ads');\r\n      const data = await response.json();\r\n      const foundAd = data.ads.find(a => a.id === id);\r\n      \r\n      if (foundAd) {\r\n        setAd(foundAd);\r\n      } else {\r\n        toast.error('Ad not found');\r\n        navigate('/ads');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching ad details:', error);\r\n      toast.error('Failed to load ad details');\r\n      navigate('/ads');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const startWatching = () => {\r\n    setIsWatching(true);\r\n    setWatchTime(0);\r\n    \r\n    timerRef.current = setInterval(() => {\r\n      setWatchTime(prev => {\r\n        const newTime = prev + 1;\r\n        \r\n        // Check if ad is completed\r\n        if (newTime >= ad.duration) {\r\n          completeAd();\r\n          return newTime;\r\n        }\r\n        \r\n        return newTime;\r\n      });\r\n    }, 1000);\r\n  };\r\n\r\n  const completeAd = async () => {\r\n    if (timerRef.current) {\r\n      clearInterval(timerRef.current);\r\n    }\r\n    \r\n    setIsWatching(false);\r\n    setIsCompleted(true);\r\n    \r\n    try {\r\n      const response = await fetch(`/api/ads/${id}/watch`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        },\r\n        body: JSON.stringify({\r\n          watchDuration: watchTime,\r\n          completed: true\r\n        })\r\n      });\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (response.ok) {\r\n        setRewardEarned(data.rewardEarned);\r\n        toast.success(`Congratulations! You earned $${data.rewardEarned.toFixed(2)}`);\r\n      } else {\r\n        toast.error(data.error || 'Failed to record ad watch');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error recording ad watch:', error);\r\n      toast.error('Failed to record ad watch');\r\n    }\r\n  };\r\n\r\n  const formatTime = (seconds) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-64\">\r\n        <LoadingSpinner size=\"xl\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!ad) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <GlassCard className=\"bg-gradient-to-r from-blue-50 to-indigo-50\">\r\n        <h1 className=\"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\r\n          Watch Ad & Earn\r\n        </h1>\r\n        <p className=\"text-gray-600 mt-2 text-lg\">\r\n          Complete this ad to earn ${ad.reward.toFixed(2)}\r\n        </p>\r\n      </GlassCard>\r\n\r\n      {/* Ad Container */}\r\n      <GlassCard className=\"bg-gradient-to-r from-white to-gray-50\">\r\n        <div className=\"text-center mb-8\">\r\n          <h2 className=\"text-2xl font-semibold text-gray-900 mb-3 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\r\n            Ad #{ad.id.split('-').pop()}\r\n          </h2>\r\n          <p className=\"text-gray-600 text-lg\">{ad.description}</p>\r\n        </div>\r\n\r\n        {/* Google AdSense Test Ad Container */}\r\n        <GlassCard className=\"bg-gradient-to-r from-gray-50 to-blue-50 mb-8\">\r\n          <div className=\"text-center\">\r\n            <div className=\"mb-6\">\r\n              <div className=\"w-24 h-24 bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center mx-auto shadow-lg\">\r\n                <Play className=\"w-12 h-12 text-blue-600\" />\r\n              </div>\r\n            </div>\r\n            <h3 className=\"text-xl font-medium text-gray-900 mb-3\">\r\n              Google AdSense Test Ad\r\n            </h3>\r\n            <p className=\"text-gray-600 mb-6 text-lg\">\r\n              This is a test ad container. In production, Google AdSense ads will appear here.\r\n            </p>\r\n            \r\n            {/* Google AdSense Test Ad */}\r\n            <div className=\"bg-white border rounded-xl p-6 mb-6 shadow-lg\">\r\n              <div className=\"text-sm text-gray-500 mb-3 font-medium\">Google AdSense Test Ad:</div>\r\n              <div className=\"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-lg border border-blue-200\">\r\n                <ins className=\"adsbygoogle\"\r\n                     style={{ display: 'block' }}\r\n                     data-ad-client=\"ca-pub-3940256099942544\"\r\n                     data-ad-slot=\"1234567890\"\r\n                     data-ad-format=\"auto\"\r\n                     data-full-width-responsive=\"true\"></ins>\r\n              </div>\r\n            </div>\r\n\r\n            {!isWatching && !isCompleted && (\r\n              <AnimatedButton\r\n                onClick={startWatching}\r\n                variant=\"primary\"\r\n                size=\"lg\"\r\n                className=\"mx-auto\"\r\n              >\r\n                <Play className=\"w-5 h-5 mr-2\" />\r\n                Start Watching Ad\r\n              </AnimatedButton>\r\n            )}\r\n\r\n            {isWatching && (\r\n              <div className=\"space-y-6\">\r\n                <div className=\"bg-gradient-to-r from-blue-50 to-cyan-50 border border-blue-200 rounded-xl p-6\">\r\n                  <div className=\"flex items-center justify-between mb-4\">\r\n                    <span className=\"text-sm font-medium text-blue-900\">Watch Progress:</span>\r\n                    <span className=\"text-sm text-blue-700 font-semibold\">{formatTime(watchTime)} / {formatTime(ad.duration)}</span>\r\n                  </div>\r\n                  <ProgressBar \r\n                    progress={(watchTime / ad.duration) * 100} \r\n                    variant=\"primary\" \r\n                    showLabel={false}\r\n                  />\r\n                </div>\r\n                \r\n                <div className=\"text-center\">\r\n                  <p className=\"text-sm text-gray-600\">\r\n                    Please watch the entire ad to earn the full reward\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {isCompleted && (\r\n              <div className=\"space-y-6\">\r\n                <div className=\"flex items-center justify-center text-green-600\">\r\n                  <CheckCircle className=\"w-10 h-10 mr-3\" />\r\n                  <span className=\"text-xl font-medium\">Ad Completed!</span>\r\n                </div>\r\n                \r\n                {rewardEarned > 0 && (\r\n                  <GlassCard className=\"bg-gradient-to-r from-green-50 to-emerald-50\">\r\n                    <div className=\"text-center\">\r\n                      <p className=\"text-sm text-green-700 mb-2 font-medium\">Reward Earned:</p>\r\n                      <p className=\"text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent\">\r\n                        ${rewardEarned.toFixed(2)}\r\n                      </p>\r\n                    </div>\r\n                  </GlassCard>\r\n                )}\r\n                \r\n                <div className=\"flex space-x-4 justify-center\">\r\n                  <AnimatedButton\r\n                    onClick={() => navigate('/ads')}\r\n                    variant=\"primary\"\r\n                  >\r\n                    Watch More Ads\r\n                  </AnimatedButton>\r\n                  <AnimatedButton\r\n                    onClick={() => navigate('/dashboard')}\r\n                    variant=\"secondary\"\r\n                  >\r\n                    Go to Dashboard\r\n                  </AnimatedButton>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </GlassCard>\r\n\r\n        {/* Ad Information */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n          <GlassCard className=\"bg-gradient-to-r from-blue-50 to-cyan-50 text-center\">\r\n            <Clock className=\"w-8 h-8 text-blue-600 mx-auto mb-3\" />\r\n            <p className=\"text-sm text-blue-600 font-medium\">Duration</p>\r\n            <p className=\"text-xl font-bold text-blue-900\">{ad.duration} seconds</p>\r\n          </GlassCard>\r\n          <GlassCard className=\"bg-gradient-to-r from-green-50 to-emerald-50 text-center\">\r\n            <DollarSign className=\"w-8 h-8 text-green-600 mx-auto mb-3\" />\r\n            <p className=\"text-sm text-green-600 font-medium\">Reward</p>\r\n            <p className=\"text-xl font-bold text-green-900\">${ad.reward.toFixed(2)}</p>\r\n          </GlassCard>\r\n          <GlassCard className=\"bg-gradient-to-r from-purple-50 to-pink-50 text-center\">\r\n            <Eye className=\"w-8 h-8 text-purple-600 mx-auto mb-3\" />\r\n            <p className=\"text-sm text-purple-600 font-medium\">Type</p>\r\n            <p className=\"text-xl font-bold text-purple-900\">{ad.type}</p>\r\n          </GlassCard>\r\n        </div>\r\n      </GlassCard>\r\n\r\n      {/* Instructions */}\r\n      <GlassCard className=\"bg-gradient-to-r from-blue-50 to-cyan-50\">\r\n        <h3 className=\"text-xl font-semibold text-blue-900 mb-4 flex items-center\">\r\n          <span className=\"w-2 h-8 bg-gradient-to-b from-blue-500 to-purple-500 rounded-full mr-3\"></span>\r\n          How to earn rewards:\r\n        </h3>\r\n        <ul className=\"space-y-3 text-blue-800\">\r\n          <li className=\"flex items-start group\">\r\n            <span className=\"w-3 h-3 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full mt-1 mr-3 flex-shrink-0 group-hover:scale-125 transition-transform\"></span>\r\n            <span className=\"group-hover:text-blue-900 transition-colors\">Watch the entire ad to earn the full reward</span>\r\n          </li>\r\n          <li className=\"flex items-start group\">\r\n            <span className=\"w-3 h-3 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full mt-1 mr-3 flex-shrink-0 group-hover:scale-125 transition-transform\"></span>\r\n            <span className=\"group-hover:text-blue-900 transition-colors\">Partial rewards are given for watching at least 15 seconds</span>\r\n          </li>\r\n          <li className=\"flex items-start group\">\r\n            <span className=\"w-3 h-3 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full mt-1 mr-3 flex-shrink-0 group-hover:scale-125 transition-transform\"></span>\r\n            <span className=\"group-hover:text-blue-900 transition-colors\">You can only earn from each ad once per 24 hours</span>\r\n          </li>\r\n          <li className=\"flex items-start group\">\r\n            <span className=\"w-3 h-3 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full mt-1 mr-3 flex-shrink-0 group-hover:scale-125 transition-transform\"></span>\r\n            <span className=\"group-hover:text-blue-900 transition-colors\">Rewards are automatically added to your balance</span>\r\n          </li>\r\n        </ul>\r\n      </GlassCard>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdPlayerPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}